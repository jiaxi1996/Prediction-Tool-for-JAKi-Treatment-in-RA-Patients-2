<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prediction Tool for 3-month Tofa Treatment Outcomes in RA Patients</title>
    <style>
        body {
            font-family: 'Times New Roman', serif;
            margin: 40px;
            background-color: #f7f7f7;
            color: #333;
            font-size: 16px;
        }
        h1 {
            text-align: center;
            margin-bottom: 20px;
            font-size: 28px;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            background-color: #fff;
            padding: 25px 35px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        .form-row {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
        }
        .form-group {
            flex: 1 1 calc(50% - 20px);
            display: flex;
            flex-direction: column;
            margin-bottom: 10px;
        }
        .form-group label {
            font-size: 16px;
            margin-bottom: 5px;
        }
        .form-group input,
        .form-group select {
            padding: 7px;
            font-size: 16px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        #predictBtn {
            display: block;
            margin: 30px auto 10px;
            padding: 12px 36px;
            font-size: 18px;
            background-color: #4a8fd7;
            color: #fff;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        #predictBtn:hover {
            background-color: #3e78ba;
        }
        #result {
            text-align: center;
            margin-top: 25px;
            font-size: 18px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <h1>Prediction Tool for 3-month Tofa Treatment Outcomes in RA Patients</h1>
    <div class="container">
        <div class="form-group">
            <label for="outcome">Select Outcome Variable:</label>
            <select id="outcome" style="font-size:16px; padding:7px;">
                <option value="CRP">3-month DAS28CRP remission</option>
                <option value="ESR">3-month DAS28ESR remission</option>
                <option value="SDAI">3-month SDAI remission</option>
                <option value="CDAI">3-month CDAI remission</option>
            </select>
        </div>
        <div class="form-row">
            <div class="form-group">
                <label for="Age(years)">Age(years):</label>
                <input type="number" id="Age(years)" placeholder="Enter value" step="any">
            </div>
            <div class="form-group">
                <label for="Duration from diagnosis(months)">Duration from diagnosis(months):</label>
                <input type="number" id="Duration from diagnosis(months)" placeholder="Enter value" step="any">
            </div>
            <div class="form-group">
                <label for="BMI">BMI:</label>
                <input type="number" id="BMI" placeholder="Enter value" step="any">
            </div>
            <div class="form-group">
                <label for="Baseline TJC">Baseline TJC:</label>
                <input type="number" id="Baseline TJC" placeholder="Enter value" step="any">
            </div>
            <div class="form-group">
                <label for="Baseline SJC">Baseline SJC:</label>
                <input type="number" id="Baseline SJC" placeholder="Enter value" step="any">
            </div>
            <div class="form-group">
                <label for="Baseline PGA(0-100)">Baseline PGA(0-100):</label>
                <input type="number" id="Baseline PGA(0-100)" placeholder="Enter value" step="any">
            </div>
            <div class="form-group">
                <label for="Baseline EGA(0-100)">Baseline EGA(0-100):</label>
                <input type="number" id="Baseline EGA(0-100)" placeholder="Enter value" step="any">
            </div>
            <div class="form-group">
                <label for="Baseline ESR(mm/h)">Baseline ESR(mm/h):</label>
                <input type="number" id="Baseline ESR(mm/h)" placeholder="Enter value" step="any">
            </div>
            <div class="form-group">
                <label for="Baseline CRP(mg/L)">Baseline CRP(mg/L):</label>
                <input type="number" id="Baseline CRP(mg/L)" placeholder="Enter value" step="any">
            </div>
            <div class="form-group">
                <label for="Gender(Female=0,male=1)">Gender(Female=0,male=1):</label>
                <select id="Gender(Female=0,male=1)">
                    <option value="">Select</option>
                    <option value="0">0</option>
                    <option value="1">1</option>
                </select>
            </div>
            <div class="form-group">
                <label for="JAK naive(True=1,false=0)">JAK naive(True=1,false=0):</label>
                <select id="JAK naive(True=1,false=0)">
                    <option value="">Select</option>
                    <option value="0">0</option>
                    <option value="1">1</option>
                </select>
            </div>
            <div class="form-group">
                <label for="Treatment naive(True=1,false=0)">Treatment naive(True=1,false=0):</label>
                <select id="Treatment naive(True=1,false=0)">
                    <option value="">Select</option>
                    <option value="0">0</option>
                    <option value="1">1</option>
                </select>
            </div>
            <div class="form-group">
                <label for="MTX at baseline(True=1,false=0)">MTX at baseline(True=1,false=0):</label>
                <select id="MTX at baseline(True=1,false=0)">
                    <option value="">Select</option>
                    <option value="0">0</option>
                    <option value="1">1</option>
                </select>
            </div>
            <div class="form-group">
                <label for="Other cDMARD at baseline(True=1,false=0)">Other cDMARD at baseline(True=1,false=0):</label>
                <select id="Other cDMARD at baseline(True=1,false=0)">
                    <option value="">Select</option>
                    <option value="0">0</option>
                    <option value="1">1</option>
                </select>
            </div>
            <div class="form-group">
                <label for="Prior bDMARD(True=1,false=0)">Prior bDMARD(True=1,false=0):</label>
                <select id="Prior bDMARD(True=1,false=0)">
                    <option value="">Select</option>
                    <option value="0">0</option>
                    <option value="1">1</option>
                </select>
            </div>
            <div class="form-group">
                <label for="Glucocorticoid(True=1,false=0) at baseline">Glucocorticoid(True=1,false=0) at baseline:</label>
                <select id="Glucocorticoid(True=1,false=0) at baseline">
                    <option value="">Select</option>
                    <option value="0">0</option>
                    <option value="1">1</option>
                </select>
            </div>
            <div class="form-group">
                <label for="Baseline RF positive(True=1,false=0)">Baseline RF positive(True=1,false=0):</label>
                <select id="Baseline RF positive(True=1,false=0)">
                    <option value="">Select</option>
                    <option value="0">0</option>
                    <option value="1">1</option>
                </select>
            </div>
        </div>
        <button id="predictBtn">Predict</button>
        <div id="result"></div>
    </div>
    <script>
        // Global scaling parameters for continuous variables
        const continuousMeans = [57.530777931381174, 87.43717125382263, 22.819051711321112, 6.114678899082569, 3.8256880733944953, 45.178899082568805, 41.0, 37.13302752293578, 19.022431192660548];
        const continuousScales = [14.24516881738451, 105.32345811139386, 2.9661595090184636, 6.618757411141188, 4.694021254290325, 22.910278024392312, 21.776175854873724, 27.15121959869372, 26.06158042722144];
        // Model data for each outcome
        const modelData = {
            CRP: { model_type: 'xgb', base_score: 0.5, trees: [{"nodeid": 0, "depth": 0, "split": "f3", "split_condition": -0.0173263494, "yes": 1, "no": 2, "missing": 2, "children": [{"nodeid": 1, "depth": 1, "split": "f8", "split_condition": -0.0852761492, "yes": 3, "no": 4, "missing": 4, "children": [{"nodeid": 3, "depth": 2, "split": "f4", "split_condition": -0.175902069, "yes": 7, "no": 8, "missing": 8, "children": [{"nodeid": 7, "leaf": 0.0967234299}, {"nodeid": 8, "leaf": -0.0123988688}]}, {"nodeid": 4, "depth": 2, "split": "f4", "split_condition": -0.388939023, "yes": 9, "no": 10, "missing": 10, "children": [{"nodeid": 9, "leaf": 0.0290838983}, {"nodeid": 10, "leaf": -0.150242284}]}]}, {"nodeid": 2, "depth": 1, "split": "f3", "split_condition": 1.64461708, "yes": 5, "no": 6, "missing": 6, "children": [{"nodeid": 5, "depth": 2, "split": "f3", "split_condition": 0.88918823, "yes": 11, "no": 12, "missing": 12, "children": [{"nodeid": 11, "leaf": -0.0745856017}, {"nodeid": 12, "leaf": 0.0500206351}]}, {"nodeid": 6, "depth": 2, "split": "f2", "split_condition": -0.681798041, "yes": 13, "no": 14, "missing": 14, "children": [{"nodeid": 13, "leaf": -0.0142732477}, {"nodeid": 14, "leaf": -0.199261874}]}]}]}, {"nodeid": 0, "depth": 0, "split": "f5", "split_condition": 1.08340466, "yes": 1, "no": 2, "missing": 2, "children": [{"nodeid": 1, "depth": 1, "split": "f8", "split_condition": -0.180051669, "yes": 3, "no": 4, "missing": 4, "children": [{"nodeid": 3, "depth": 2, "split": "f0", "split_condition": 1.36672461, "yes": 7, "no": 8, "missing": 8, "children": [{"nodeid": 7, "leaf": 0.0868580565}, {"nodeid": 8, "leaf": -0.0417167842}]}, {"nodeid": 4, "depth": 2, "split": "f5", "split_condition": 0.64691931, "yes": 9, "no": 10, "missing": 10, "children": [{"nodeid": 9, "leaf": -0.0851010904}, {"nodeid": 10, "leaf": 0.0825743973}]}]}, {"nodeid": 2, "depth": 1, "split": "f8", "split_condition": -0.513108969, "yes": 5, "no": 6, "missing": 6, "children": [{"nodeid": 5, "leaf": 0.041674979}, {"nodeid": 6, "depth": 2, "split": "f2", "split_condition": -0.627707481, "yes": 11, "no": 12, "missing": 12, "children": [{"nodeid": 11, "leaf": -0.0469759665}, {"nodeid": 12, "leaf": -0.187096745}]}]}]}, {"nodeid": 0, "depth": 0, "split": "f5", "split_condition": 1.08340466, "yes": 1, "no": 2, "missing": 2, "children": [{"nodeid": 1, "depth": 1, "split": "f8", "split_condition": 0.18715553, "yes": 3, "no": 4, "missing": 4, "children": [{"nodeid": 3, "depth": 2, "split": "f0", "split_condition": 0.454134464, "yes": 7, "no": 8, "missing": 8, "children": [{"nodeid": 7, "leaf": 0.0890483484}, {"nodeid": 8, "leaf": 0.016324779}]}, {"nodeid": 4, "depth": 2, "split": "f13", "split_condition": 1, "yes": 9, "no": 10, "missing": 10, "children": [{"nodeid": 9, "leaf": 0.0349439643}, {"nodeid": 10, "leaf": -0.169811293}]}]}, {"nodeid": 2, "depth": 1, "split": "f0", "split_condition": 1.08592761, "yes": 5, "no": 6, "missing": 6, "children": [{"nodeid": 5, "depth": 2, "split": "f6", "split_condition": 0.413295716, "yes": 11, "no": 12, "missing": 12, "children": [{"nodeid": 11, "leaf": -0.00653493125}, {"nodeid": 12, "leaf": -0.160212353}]}, {"nodeid": 6, "leaf": 0.0385590196}]}]}, {"nodeid": 0, "depth": 0, "split": "f7", "split_condition": -0.815176189, "yes": 1, "no": 2, "missing": 2, "children": [{"nodeid": 1, "depth": 1, "split": "f8", "split_condition": -0.678102791, "yes": 3, "no": 4, "missing": 4, "children": [{"nodeid": 3, "depth": 2, "split": "f8", "split_condition": -0.691532552, "yes": 7, "no": 8, "missing": 8, "children": [{"nodeid": 7, "leaf": 0.0827439427}, {"nodeid": 8, "leaf": -0.0710568577}]}, {"nodeid": 4, "depth": 2, "split": "f1", "split_condition": -0.801377416, "yes": 9, "no": 10, "missing": 10, "children": [{"nodeid": 9, "leaf": 0.0311634149}, {"nodeid": 10, "leaf": 0.121941023}]}]}, {"nodeid": 2, "depth": 1, "split": "f8", "split_condition": -0.632825434, "yes": 5, "no": 6, "missing": 6, "children": [{"nodeid": 5, "leaf": 0.10397052}, {"nodeid": 6, "depth": 2, "split": "f1", "split_condition": -0.8115049, "yes": 11, "no": 12, "missing": 12, "children": [{"nodeid": 11, "leaf": 0.036329478}, {"nodeid": 12, "leaf": -0.057467591}]}]}]}, {"nodeid": 0, "depth": 0, "split": "f8", "split_condition": -0.177365735, "yes": 1, "no": 2, "missing": 2, "children": [{"nodeid": 1, "depth": 1, "split": "f3", "split_condition": 1.34244549, "yes": 3, "no": 4, "missing": 4, "children": [{"nodeid": 3, "depth": 2, "split": "f3", "split_condition": -0.168412104, "yes": 7, "no": 8, "missing": 8, "children": [{"nodeid": 7, "leaf": 0.0768314824}, {"nodeid": 8, "leaf": 0.0206522979}]}, {"nodeid": 4, "leaf": -0.103374772}]}, {"nodeid": 2, "depth": 1, "split": "f1", "split_condition": -0.602308095, "yes": 5, "no": 6, "missing": 6, "children": [{"nodeid": 5, "depth": 2, "split": "f8", "split_condition": 0.0183246303, "yes": 9, "no": 10, "missing": 10, "children": [{"nodeid": 9, "leaf": 0.0741763264}, {"nodeid": 10, "leaf": -0.0295594372}]}, {"nodeid": 6, "depth": 2, "split": "f6", "split_condition": 1.3317306, "yes": 11, "no": 12, "missing": 12, "children": [{"nodeid": 11, "leaf": -0.0614311993}, {"nodeid": 12, "leaf": -0.132003888}]}]}]}, {"nodeid": 0, "depth": 0, "split": "f8", "split_condition": -0.215736389, "yes": 1, "no": 2, "missing": 2, "children": [{"nodeid": 1, "depth": 1, "split": "f6", "split_condition": -0.0459217466, "yes": 3, "no": 4, "missing": 4, "children": [{"nodeid": 3, "depth": 2, "split": "f16", "split_condition": 1, "yes": 7, "no": 8, "missing": 8, "children": [{"nodeid": 7, "leaf": 0.113285564}, {"nodeid": 8, "leaf": 0.0608575419}]}, {"nodeid": 4, "depth": 2, "split": "f1", "split_condition": 0.679457664, "yes": 9, "no": 10, "missing": 10, "children": [{"nodeid": 9, "leaf": 0.0340266414}, {"nodeid": 10, "leaf": -0.0772105902}]}]}, {"nodeid": 2, "depth": 1, "split": "f1", "split_condition": -0.507045984, "yes": 5, "no": 6, "missing": 6, "children": [{"nodeid": 5, "depth": 2, "split": "f2", "split_condition": -0.58166182, "yes": 11, "no": 12, "missing": 12, "children": [{"nodeid": 11, "leaf": 0.0949260741}, {"nodeid": 12, "leaf": -0.0066215517}]}, {"nodeid": 6, "depth": 2, "split": "f2", "split_condition": -0.0918612853, "yes": 13, "no": 14, "missing": 14, "children": [{"nodeid": 13, "leaf": -0.0977502316}, {"nodeid": 14, "leaf": -0.00195384212}]}]}]}, {"nodeid": 0, "depth": 0, "split": "f3", "split_condition": -0.168412104, "yes": 1, "no": 2, "missing": 2, "children": [{"nodeid": 1, "depth": 1, "split": "f8", "split_condition": 0.0643694177, "yes": 3, "no": 4, "missing": 4, "children": [{"nodeid": 3, "depth": 2, "split": "f0", "split_condition": -0.247857928, "yes": 7, "no": 8, "missing": 8, "children": [{"nodeid": 7, "leaf": 0.102219127}, {"nodeid": 8, "leaf": 0.0309832394}]}, {"nodeid": 4, "depth": 2, "split": "f8", "split_condition": 0.496423036, "yes": 9, "no": 10, "missing": 10, "children": [{"nodeid": 9, "leaf": -0.116419412}, {"nodeid": 10, "leaf": 0.0187657531}]}]}, {"nodeid": 2, "depth": 1, "split": "f1", "split_condition": -0.459573179, "yes": 5, "no": 6, "missing": 6, "children": [{"nodeid": 5, "depth": 2, "split": "f7", "split_condition": -0.336376339, "yes": 11, "no": 12, "missing": 12, "children": [{"nodeid": 11, "leaf": -0.0662459284}, {"nodeid": 12, "leaf": 0.0383160375}]}, {"nodeid": 6, "depth": 2, "split": "f0", "split_condition": 1.01572835, "yes": 13, "no": 14, "missing": 14, "children": [{"nodeid": 13, "leaf": -0.121569507}, {"nodeid": 14, "leaf": 0.0477859825}]}]}]}, {"nodeid": 0, "depth": 0, "split": "f8", "split_condition": -0.177365735, "yes": 1, "no": 2, "missing": 2, "children": [{"nodeid": 1, "depth": 1, "split": "f3", "split_condition": 0.587016702, "yes": 3, "no": 4, "missing": 4, "children": [{"nodeid": 3, "depth": 2, "split": "f4", "split_condition": 0.0371348821, "yes": 7, "no": 8, "missing": 8, "children": [{"nodeid": 7, "leaf": 0.092226021}, {"nodeid": 8, "leaf": 0.00125764229}]}, {"nodeid": 4, "depth": 2, "split": "f5", "split_condition": -0.00780868251, "yes": 9, "no": 10, "missing": 10, "children": [{"nodeid": 9, "leaf": 0.0737049803}, {"nodeid": 10, "leaf": -0.0807809532}]}]}, {"nodeid": 2, "depth": 1, "split": "f13", "split_condition": 1, "yes": 5, "no": 6, "missing": 6, "children": [{"nodeid": 5, "depth": 2, "split": "f8", "split_condition": -0.07376495, "yes": 11, "no": 12, "missing": 12, "children": [{"nodeid": 11, "leaf": -0.117686763}, {"nodeid": 12, "leaf": 0.0310468469}]}, {"nodeid": 6, "depth": 2, "split": "f8", "split_condition": 0.306104571, "yes": 13, "no": 14, "missing": 14, "children": [{"nodeid": 13, "leaf": 0.0481277369}, {"nodeid": 14, "leaf": -0.159253582}]}]}]}, {"nodeid": 0, "depth": 0, "split": "f3", "split_condition": 1.64461708, "yes": 1, "no": 2, "missing": 2, "children": [{"nodeid": 1, "depth": 1, "split": "f8", "split_condition": -0.374207199, "yes": 3, "no": 4, "missing": 4, "children": [{"nodeid": 3, "depth": 2, "split": "f1", "split_condition": -0.34405604, "yes": 5, "no": 6, "missing": 6, "children": [{"nodeid": 5, "leaf": 0.0880612731}, {"nodeid": 6, "leaf": 0.0071222703}]}, {"nodeid": 4, "depth": 2, "split": "f3", "split_condition": 1.04027402, "yes": 7, "no": 8, "missing": 8, "children": [{"nodeid": 7, "leaf": -0.0346638635}, {"nodeid": 8, "leaf": 0.0906123742}]}]}, {"nodeid": 2, "leaf": -0.109605156}]}, {"nodeid": 0, "depth": 0, "split": "f3", "split_condition": 1.64461708, "yes": 1, "no": 2, "missing": 2, "children": [{"nodeid": 1, "depth": 1, "split": "f7", "split_condition": -0.815176189, "yes": 3, "no": 4, "missing": 4, "children": [{"nodeid": 3, "depth": 2, "split": "f16", "split_condition": 1, "yes": 7, "no": 8, "missing": 8, "children": [{"nodeid": 7, "leaf": 0.104723491}, {"nodeid": 8, "leaf": 0.0433167927}]}, {"nodeid": 4, "depth": 2, "split": "f13", "split_condition": 1, "yes": 9, "no": 10, "missing": 10, "children": [{"nodeid": 9, "leaf": 0.0294536781}, {"nodeid": 10, "leaf": -0.0581785403}]}]}, {"nodeid": 2, "depth": 1, "split": "f7", "split_condition": 0.400238842, "yes": 5, "no": 6, "missing": 6, "children": [{"nodeid": 5, "leaf": -0.117537454}, {"nodeid": 6, "leaf": -0.019983938}]}]}, {"nodeid": 0, "depth": 0, "split": "f7", "split_condition": -0.852006912, "yes": 1, "no": 2, "missing": 2, "children": [{"nodeid": 1, "depth": 1, "split": "f8", "split_condition": -0.678102791, "yes": 3, "no": 4, "missing": 4, "children": [{"nodeid": 3, "leaf": -0.0194778964}, {"nodeid": 4, "depth": 2, "split": "f13", "split_condition": 1, "yes": 7, "no": 8, "missing": 8, "children": [{"nodeid": 7, "leaf": 0.103145435}, {"nodeid": 8, "leaf": 0.0283185542}]}]}, {"nodeid": 2, "depth": 1, "split": "f8", "split_condition": -0.632825434, "yes": 5, "no": 6, "missing": 6, "children": [{"nodeid": 5, "leaf": 0.0759976953}, {"nodeid": 6, "depth": 2, "split": "f7", "split_condition": -0.0785610229, "yes": 9, "no": 10, "missing": 10, "children": [{"nodeid": 9, "leaf": -0.066006422}, {"nodeid": 10, "leaf": -0.00534793502}]}]}]}, {"nodeid": 0, "depth": 0, "split": "f0", "split_condition": -0.949850321, "yes": 1, "no": 2, "missing": 2, "children": [{"nodeid": 1, "depth": 1, "split": "f3", "split_condition": -0.0173263494, "yes": 3, "no": 4, "missing": 4, "children": [{"nodeid": 3, "leaf": 0.109400928}, {"nodeid": 4, "leaf": -0.0177275147}]}, {"nodeid": 2, "depth": 1, "split": "f3", "split_condition": -0.772755146, "yes": 5, "no": 6, "missing": 6, "children": [{"nodeid": 5, "depth": 2, "split": "f13", "split_condition": 1, "yes": 7, "no": 8, "missing": 8, "children": [{"nodeid": 7, "leaf": 0.0898691043}, {"nodeid": 8, "leaf": 0.0231646821}]}, {"nodeid": 6, "depth": 2, "split": "f13", "split_condition": 1, "yes": 9, "no": 10, "missing": 10, "children": [{"nodeid": 9, "leaf": -0.0176606905}, {"nodeid": 10, "leaf": -0.10091988}]}]}]}, {"nodeid": 0, "depth": 0, "split": "f3", "split_condition": 1.64461708, "yes": 1, "no": 2, "missing": 2, "children": [{"nodeid": 1, "depth": 1, "split": "f7", "split_condition": -0.631022394, "yes": 3, "no": 4, "missing": 4, "children": [{"nodeid": 3, "depth": 2, "split": "f3", "split_condition": 0.133759409, "yes": 7, "no": 8, "missing": 8, "children": [{"nodeid": 7, "leaf": 0.0736377537}, {"nodeid": 8, "leaf": -0.0175598916}]}, {"nodeid": 4, "depth": 2, "split": "f16", "split_condition": 1, "yes": 9, "no": 10, "missing": 10, "children": [{"nodeid": 9, "leaf": -0.0537866838}, {"nodeid": 10, "leaf": 0.0151009029}]}]}, {"nodeid": 2, "depth": 1, "split": "f2", "split_condition": -0.0918612853, "yes": 5, "no": 6, "missing": 6, "children": [{"nodeid": 5, "leaf": -0.107608512}, {"nodeid": 6, "leaf": -0.0257839058}]}]}, {"nodeid": 0, "depth": 0, "split": "f7", "split_condition": -0.852006912, "yes": 1, "no": 2, "missing": 2, "children": [{"nodeid": 1, "depth": 1, "split": "f0", "split_condition": -0.388256401, "yes": 3, "no": 4, "missing": 4, "children": [{"nodeid": 3, "leaf": 0.0966681093}, {"nodeid": 4, "depth": 2, "split": "f1", "split_condition": 0.0623111762, "yes": 7, "no": 8, "missing": 8, "children": [{"nodeid": 7, "leaf": -0.0664430112}, {"nodeid": 8, "leaf": 0.0733444765}]}]}, {"nodeid": 2, "depth": 1, "split": "f1", "split_condition": 0.271191508, "yes": 5, "no": 6, "missing": 6, "children": [{"nodeid": 5, "depth": 2, "split": "f1", "split_condition": -0.0706126764, "yes": 9, "no": 10, "missing": 10, "children": [{"nodeid": 9, "leaf": -0.0048529366}, {"nodeid": 10, "leaf": 0.102727495}]}, {"nodeid": 6, "depth": 2, "split": "f1", "split_condition": 0.95068562, "yes": 11, "no": 12, "missing": 12, "children": [{"nodeid": 11, "leaf": -0.111209907}, {"nodeid": 12, "leaf": -0.0179167874}]}]}]}, {"nodeid": 0, "depth": 0, "split": "f1", "split_condition": -0.703266919, "yes": 1, "no": 2, "missing": 2, "children": [{"nodeid": 1, "depth": 1, "split": "f5", "split_condition": -0.444294006, "yes": 3, "no": 4, "missing": 4, "children": [{"nodeid": 3, "depth": 2, "split": "f4", "split_condition": -0.175902069, "yes": 7, "no": 8, "missing": 8, "children": [{"nodeid": 7, "leaf": 0.0777109191}, {"nodeid": 8, "leaf": -0.115124635}]}, {"nodeid": 4, "depth": 2, "split": "f5", "split_condition": 1.08340466, "yes": 9, "no": 10, "missing": 10, "children": [{"nodeid": 9, "leaf": 0.111412935}, {"nodeid": 10, "leaf": 0.0174301807}]}]}, {"nodeid": 2, "depth": 1, "split": "f5", "split_condition": 1.08340466, "yes": 5, "no": 6, "missing": 6, "children": [{"nodeid": 5, "depth": 2, "split": "f0", "split_condition": -1.09024882, "yes": 11, "no": 12, "missing": 12, "children": [{"nodeid": 11, "leaf": 0.0887049511}, {"nodeid": 12, "leaf": -0.0144892214}]}, {"nodeid": 6, "depth": 2, "split": "f2", "split_condition": -0.167766824, "yes": 13, "no": 14, "missing": 14, "children": [{"nodeid": 13, "leaf": -0.00496297609}, {"nodeid": 14, "leaf": -0.121416546}]}]}]}, {"nodeid": 0, "depth": 0, "split": "f0", "split_condition": -1.44124496, "yes": 1, "no": 2, "missing": 2, "children": [{"nodeid": 1, "leaf": 0.0934723541}, {"nodeid": 2, "depth": 1, "split": "f3", "split_condition": -0.168412104, "yes": 3, "no": 4, "missing": 4, "children": [{"nodeid": 3, "depth": 2, "split": "f8", "split_condition": 0.0950659439, "yes": 5, "no": 6, "missing": 6, "children": [{"nodeid": 5, "leaf": 0.0447725728}, {"nodeid": 6, "leaf": -0.0630195364}]}, {"nodeid": 4, "depth": 2, "split": "f8", "split_condition": -0.070311591, "yes": 7, "no": 8, "missing": 8, "children": [{"nodeid": 7, "leaf": -0.0711636022}, {"nodeid": 8, "leaf": -0.00304102735}]}]}]}, {"nodeid": 0, "depth": 0, "split": "f8", "split_condition": -0.177365735, "yes": 1, "no": 2, "missing": 2, "children": [{"nodeid": 1, "depth": 1, "split": "f3", "split_condition": -0.0173263494, "yes": 3, "no": 4, "missing": 4, "children": [{"nodeid": 3, "depth": 2, "split": "f8", "split_condition": -0.487784356, "yes": 7, "no": 8, "missing": 8, "children": [{"nodeid": 7, "leaf": 0.0139379529}, {"nodeid": 8, "leaf": 0.108834162}]}, {"nodeid": 4, "depth": 2, "split": "f7", "split_condition": -0.262714803, "yes": 9, "no": 10, "missing": 10, "children": [{"nodeid": 9, "leaf": -0.065494433}, {"nodeid": 10, "leaf": 0.0394108109}]}]}, {"nodeid": 2, "depth": 1, "split": "f1", "split_condition": 0.271191508, "yes": 5, "no": 6, "missing": 6, "children": [{"nodeid": 5, "depth": 2, "split": "f5", "split_condition": -0.662536681, "yes": 11, "no": 12, "missing": 12, "children": [{"nodeid": 11, "leaf": -0.0819178447}, {"nodeid": 12, "leaf": 0.00768742664}]}, {"nodeid": 6, "depth": 2, "split": "f1", "split_condition": 1.36306608, "yes": 13, "no": 14, "missing": 14, "children": [{"nodeid": 13, "leaf": -0.112436667}, {"nodeid": 14, "leaf": -0.0220202692}]}]}]}, {"nodeid": 0, "depth": 0, "split": "f13", "split_condition": 1, "yes": 1, "no": 2, "missing": 2, "children": [{"nodeid": 1, "depth": 1, "split": "f4", "split_condition": -0.175902069, "yes": 3, "no": 4, "missing": 4, "children": [{"nodeid": 3, "depth": 2, "split": "f0", "split_condition": 1.01572835, "yes": 7, "no": 8, "missing": 8, "children": [{"nodeid": 7, "leaf": 0.0733541101}, {"nodeid": 8, "leaf": -0.00862441398}]}, {"nodeid": 4, "depth": 2, "split": "f0", "split_condition": 1.29652536, "yes": 9, "no": 10, "missing": 10, "children": [{"nodeid": 9, "leaf": -0.0449965671}, {"nodeid": 10, "leaf": 0.0933803022}]}]}, {"nodeid": 2, "depth": 1, "split": "f9", "split_condition": 1, "yes": 5, "no": 6, "missing": 6, "children": [{"nodeid": 5, "depth": 2, "split": "f5", "split_condition": -1.09902203, "yes": 11, "no": 12, "missing": 12, "children": [{"nodeid": 11, "leaf": 0.0455196798}, {"nodeid": 12, "leaf": -0.0912366137}]}, {"nodeid": 6, "leaf": 0.0747431144}]}]}, {"nodeid": 0, "depth": 0, "split": "f3", "split_condition": -0.772755146, "yes": 1, "no": 2, "missing": 2, "children": [{"nodeid": 1, "leaf": 0.0983302668}, {"nodeid": 2, "depth": 1, "split": "f0", "split_condition": -0.949850321, "yes": 3, "no": 4, "missing": 4, "children": [{"nodeid": 3, "depth": 2, "split": "f5", "split_condition": 0.64691931, "yes": 5, "no": 6, "missing": 6, "children": [{"nodeid": 5, "leaf": 0.0972503871}, {"nodeid": 6, "leaf": -0.0096360324}]}, {"nodeid": 4, "depth": 2, "split": "f1", "split_condition": -0.429190606, "yes": 7, "no": 8, "missing": 8, "children": [{"nodeid": 7, "leaf": 0.00827971473}, {"nodeid": 8, "leaf": -0.0546348505}]}]}]}, {"nodeid": 0, "depth": 0, "split": "f8", "split_condition": -0.626686156, "yes": 1, "no": 2, "missing": 2, "children": [{"nodeid": 1, "depth": 1, "split": "f8", "split_condition": -0.678102791, "yes": 3, "no": 4, "missing": 4, "children": [{"nodeid": 3, "depth": 2, "split": "f1", "split_condition": -0.545340717, "yes": 7, "no": 8, "missing": 8, "children": [{"nodeid": 7, "leaf": 0.0223379787}, {"nodeid": 8, "leaf": -0.0368215889}]}, {"nodeid": 4, "leaf": 0.0880714282}]}, {"nodeid": 2, "depth": 1, "split": "f8", "split_condition": -0.605582297, "yes": 5, "no": 6, "missing": 6, "children": [{"nodeid": 5, "leaf": -0.112333916}, {"nodeid": 6, "depth": 2, "split": "f7", "split_condition": -0.815176189, "yes": 9, "no": 10, "missing": 10, "children": [{"nodeid": 9, "leaf": 0.0556311198}, {"nodeid": 10, "leaf": -0.0204513147}]}]}]}, {"nodeid": 0, "depth": 0, "split": "f5", "split_condition": 1.08340466, "yes": 1, "no": 2, "missing": 2, "children": [{"nodeid": 1, "depth": 1, "split": "f0", "split_condition": 0.805130661, "yes": 3, "no": 4, "missing": 4, "children": [{"nodeid": 3, "depth": 2, "split": "f1", "split_condition": 0.296826839, "yes": 7, "no": 8, "missing": 8, "children": [{"nodeid": 7, "leaf": 0.0633309335}, {"nodeid": 8, "leaf": -0.0461381674}]}, {"nodeid": 4, "depth": 2, "split": "f8", "split_condition": -0.369219035, "yes": 9, "no": 10, "missing": 10, "children": [{"nodeid": 9, "leaf": 0.0422568731}, {"nodeid": 10, "leaf": -0.0770940259}]}]}, {"nodeid": 2, "depth": 1, "split": "f1", "split_condition": -0.334877968, "yes": 5, "no": 6, "missing": 6, "children": [{"nodeid": 5, "depth": 2, "split": "f5", "split_condition": 1.51988995, "yes": 11, "no": 12, "missing": 12, "children": [{"nodeid": 11, "leaf": -0.0703864843}, {"nodeid": 12, "leaf": 0.0462396033}]}, {"nodeid": 6, "depth": 2, "split": "f1", "split_condition": 1.36306608, "yes": 13, "no": 14, "missing": 14, "children": [{"nodeid": 13, "leaf": -0.125668958}, {"nodeid": 14, "leaf": -0.0111343237}]}]}]}, {"nodeid": 0, "depth": 0, "split": "f0", "split_condition": 0.594532967, "yes": 1, "no": 2, "missing": 2, "children": [{"nodeid": 1, "depth": 1, "split": "f5", "split_condition": 1.08340466, "yes": 3, "no": 4, "missing": 4, "children": [{"nodeid": 3, "depth": 2, "split": "f7", "split_condition": 1.54199231, "yes": 7, "no": 8, "missing": 8, "children": [{"nodeid": 7, "leaf": 0.0732741952}, {"nodeid": 8, "leaf": -0.0324520171}]}, {"nodeid": 4, "depth": 2, "split": "f3", "split_condition": -0.168412104, "yes": 9, "no": 10, "missing": 10, "children": [{"nodeid": 9, "leaf": 0.00958806742}, {"nodeid": 10, "leaf": -0.0688165128}]}]}, {"nodeid": 2, "depth": 1, "split": "f1", "split_condition": 2.7783885, "yes": 5, "no": 6, "missing": 6, "children": [{"nodeid": 5, "depth": 2, "split": "f5", "split_condition": 0.64691931, "yes": 11, "no": 12, "missing": 12, "children": [{"nodeid": 11, "leaf": -0.0982166231}, {"nodeid": 12, "leaf": 0.00732578104}]}, {"nodeid": 6, "leaf": 0.0869359672}]}]}, {"nodeid": 0, "depth": 0, "split": "f5", "split_condition": 1.08340466, "yes": 1, "no": 2, "missing": 2, "children": [{"nodeid": 1, "depth": 1, "split": "f15", "split_condition": 1, "yes": 3, "no": 4, "missing": 4, "children": [{"nodeid": 3, "depth": 2, "split": "f2", "split_condition": 0.504043102, "yes": 7, "no": 8, "missing": 8, "children": [{"nodeid": 7, "leaf": 0.0112617547}, {"nodeid": 8, "leaf": 0.081778571}]}, {"nodeid": 4, "depth": 2, "split": "f1", "split_condition": -0.502615213, "yes": 9, "no": 10, "missing": 10, "children": [{"nodeid": 9, "leaf": -0.0967574418}, {"nodeid": 10, "leaf": 0.0025073688}]}]}, {"nodeid": 2, "depth": 1, "split": "f2", "split_condition": 0.333643049, "yes": 5, "no": 6, "missing": 6, "children": [{"nodeid": 5, "depth": 2, "split": "f11", "split_condition": 1, "yes": 11, "no": 12, "missing": 12, "children": [{"nodeid": 11, "leaf": -0.0352281928}, {"nodeid": 12, "leaf": 0.0563582256}]}, {"nodeid": 6, "leaf": -0.088056393}]}]}, {"nodeid": 0, "depth": 0, "split": "f2", "split_condition": -0.0918612853, "yes": 1, "no": 2, "missing": 2, "children": [{"nodeid": 1, "depth": 1, "split": "f2", "split_condition": -1.16038573, "yes": 3, "no": 4, "missing": 4, "children": [{"nodeid": 3, "depth": 2, "split": "f12", "split_condition": 1, "yes": 7, "no": 8, "missing": 8, "children": [{"nodeid": 7, "leaf": 0.00584210223}, {"nodeid": 8, "leaf": 0.0870838314}]}, {"nodeid": 4, "depth": 2, "split": "f2", "split_condition": -0.884631932, "yes": 9, "no": 10, "missing": 10, "children": [{"nodeid": 9, "leaf": -0.11986541}, {"nodeid": 10, "leaf": -0.0226063374}]}]}, {"nodeid": 2, "depth": 1, "split": "f1", "split_condition": -0.0190255623, "yes": 5, "no": 6, "missing": 6, "children": [{"nodeid": 5, "depth": 2, "split": "f0", "split_condition": 0.734931409, "yes": 11, "no": 12, "missing": 12, "children": [{"nodeid": 11, "leaf": 0.0971029326}, {"nodeid": 12, "leaf": -0.0187219661}]}, {"nodeid": 6, "depth": 2, "split": "f1", "split_condition": 0.361389846, "yes": 13, "no": 14, "missing": 14, "children": [{"nodeid": 13, "leaf": -0.0854223147}, {"nodeid": 14, "leaf": 0.0311495364}]}]}]}, {"nodeid": 0, "depth": 0, "split": "f7", "split_condition": -0.815176189, "yes": 1, "no": 2, "missing": 2, "children": [{"nodeid": 1, "depth": 1, "split": "f1", "split_condition": -0.0190255623, "yes": 3, "no": 4, "missing": 4, "children": [{"nodeid": 3, "leaf": 0.0921788663}, {"nodeid": 4, "depth": 2, "split": "f1", "split_condition": 0.347148001, "yes": 7, "no": 8, "missing": 8, "children": [{"nodeid": 7, "leaf": -0.069083333}, {"nodeid": 8, "leaf": 0.0688149855}]}]}, {"nodeid": 2, "depth": 1, "split": "f3", "split_condition": 1.64461708, "yes": 5, "no": 6, "missing": 6, "children": [{"nodeid": 5, "depth": 2, "split": "f3", "split_condition": 1.19135976, "yes": 9, "no": 10, "missing": 10, "children": [{"nodeid": 9, "leaf": -0.0102142124}, {"nodeid": 10, "leaf": 0.0781504512}]}, {"nodeid": 6, "depth": 2, "split": "f1", "split_condition": -0.673517287, "yes": 11, "no": 12, "missing": 12, "children": [{"nodeid": 11, "leaf": -0.0240634289}, {"nodeid": 12, "leaf": -0.0919153914}]}]}]}, {"nodeid": 0, "depth": 0, "split": "f3", "split_condition": 1.64461708, "yes": 1, "no": 2, "missing": 2, "children": [{"nodeid": 1, "depth": 1, "split": "f13", "split_condition": 1, "yes": 3, "no": 4, "missing": 4, "children": [{"nodeid": 3, "depth": 2, "split": "f4", "split_condition": -0.175902069, "yes": 7, "no": 8, "missing": 8, "children": [{"nodeid": 7, "leaf": 0.0695922449}, {"nodeid": 8, "leaf": 0.00337718963}]}, {"nodeid": 4, "depth": 2, "split": "f9", "split_condition": 1, "yes": 9, "no": 10, "missing": 10, "children": [{"nodeid": 9, "leaf": -0.0499466173}, {"nodeid": 10, "leaf": 0.0833921283}]}]}, {"nodeid": 2, "depth": 1, "split": "f2", "split_condition": -0.0918612853, "yes": 5, "no": 6, "missing": 6, "children": [{"nodeid": 5, "leaf": -0.101824321}, {"nodeid": 6, "leaf": -0.0305503365}]}]}, {"nodeid": 0, "depth": 0, "split": "f1", "split_condition": 2.59735894, "yes": 1, "no": 2, "missing": 2, "children": [{"nodeid": 1, "depth": 1, "split": "f1", "split_condition": 1.48427999, "yes": 3, "no": 4, "missing": 4, "children": [{"nodeid": 3, "depth": 2, "split": "f16", "split_condition": 1, "yes": 5, "no": 6, "missing": 6, "children": [{"nodeid": 5, "leaf": 0.0368086882}, {"nodeid": 6, "leaf": -0.0134167615}]}, {"nodeid": 4, "leaf": -0.102263227}]}, {"nodeid": 2, "leaf": 0.0861010924}]}, {"nodeid": 0, "depth": 0, "split": "f8", "split_condition": -0.215736389, "yes": 1, "no": 2, "missing": 2, "children": [{"nodeid": 1, "depth": 1, "split": "f3", "split_condition": 1.34244549, "yes": 3, "no": 4, "missing": 4, "children": [{"nodeid": 3, "depth": 2, "split": "f2", "split_condition": -0.172243536, "yes": 7, "no": 8, "missing": 8, "children": [{"nodeid": 7, "leaf": -0.00153406023}, {"nodeid": 8, "leaf": 0.0710965693}]}, {"nodeid": 4, "leaf": -0.0581967197}]}, {"nodeid": 2, "depth": 1, "split": "f0", "split_condition": 0.594532967, "yes": 5, "no": 6, "missing": 6, "children": [{"nodeid": 5, "depth": 2, "split": "f14", "split_condition": 1, "yes": 9, "no": 10, "missing": 10, "children": [{"nodeid": 9, "leaf": 0.0418258086}, {"nodeid": 10, "leaf": -0.0903483257}]}, {"nodeid": 6, "depth": 2, "split": "f1", "split_condition": -0.0706126764, "yes": 11, "no": 12, "missing": 12, "children": [{"nodeid": 11, "leaf": -0.0916973576}, {"nodeid": 12, "leaf": -0.00372736505}]}]}]}, {"nodeid": 0, "depth": 0, "split": "f3", "split_condition": 1.64461708, "yes": 1, "no": 2, "missing": 2, "children": [{"nodeid": 1, "depth": 1, "split": "f13", "split_condition": 1, "yes": 3, "no": 4, "missing": 4, "children": [{"nodeid": 3, "depth": 2, "split": "f4", "split_condition": -0.388939023, "yes": 7, "no": 8, "missing": 8, "children": [{"nodeid": 7, "leaf": 0.0699682906}, {"nodeid": 8, "leaf": -0.0087517947}]}, {"nodeid": 4, "depth": 2, "split": "f8", "split_condition": 0.18715553, "yes": 9, "no": 10, "missing": 10, "children": [{"nodeid": 9, "leaf": 0.00544039533}, {"nodeid": 10, "leaf": -0.0959605724}]}]}, {"nodeid": 2, "depth": 1, "split": "f1", "split_condition": -0.483942568, "yes": 5, "no": 6, "missing": 6, "children": [{"nodeid": 5, "leaf": -0.0163114071}, {"nodeid": 6, "leaf": -0.0876314417}]}]}, {"nodeid": 0, "depth": 0, "split": "f13", "split_condition": 1, "yes": 1, "no": 2, "missing": 2, "children": [{"nodeid": 1, "depth": 1, "split": "f7", "split_condition": 0.473900348, "yes": 3, "no": 4, "missing": 4, "children": [{"nodeid": 3, "depth": 2, "split": "f3", "split_condition": -0.470583618, "yes": 7, "no": 8, "missing": 8, "children": [{"nodeid": 7, "leaf": 0.0666937232}, {"nodeid": 8, "leaf": -0.0406260416}]}, {"nodeid": 4, "depth": 2, "split": "f3", "split_condition": -0.621669412, "yes": 9, "no": 10, "missing": 10, "children": [{"nodeid": 9, "leaf": -0.0474467427}, {"nodeid": 10, "leaf": 0.100080885}]}]}, {"nodeid": 2, "depth": 1, "split": "f8", "split_condition": 0.306104571, "yes": 5, "no": 6, "missing": 6, "children": [{"nodeid": 5, "depth": 2, "split": "f8", "split_condition": -0.564525664, "yes": 11, "no": 12, "missing": 12, "children": [{"nodeid": 11, "leaf": -0.0771544203}, {"nodeid": 12, "leaf": 0.0445115194}]}, {"nodeid": 6, "leaf": -0.101386011}]}]}] },
            ESR: { model_type: 'logistic', intercept: 0.537928861995986, coef: [-0.3528609878641076, 0.009789410745711118, 0.03260142407658128, -0.7838529787321545, 0.3297156937783091, -0.2839304757684773, 0.2199962018051899, -0.9800189112379015, 0.23825827831862778, 1.0146073980599921, -0.36704991904747497, 0.06693462494737307, -0.29342656642517884, -0.48902647192831944, -0.41574930623644996, -0.1517792767609052, -0.2067996693840682] },
            SDAI: { model_type: 'rf', trees: [{"feature": "Age(years)", "threshold": 0.8402302861213684, "left": {"feature": "Baseline EGA(0-100)", "threshold": -0.390334814786911, "left": {"feature": "Baseline CRP(mg/L)", "threshold": -0.039231357630342245, "left": {"value": 0.647887323943662}, "right": {"value": 0.2222222222222222}}, "right": {"feature": "Duration from diagnosis(months)", "threshold": -0.7846036851406097, "left": {"value": 0.3333333333333333}, "right": {"value": 0.12307692307692308}}}, "right": {"feature": "Baseline PGA(0-100)", "threshold": -1.3172646760940552, "left": {"value": 1.0}, "right": {"feature": "Baseline ESR(mm/h)", "threshold": -1.0545761287212372, "left": {"value": 0.5}, "right": {"value": 0.07272727272727272}}}}, {"feature": "Baseline TJC", "threshold": -0.39504075050354004, "left": {"feature": "Prior bDMARD(True=1,false=0)", "threshold": 0.5, "left": {"feature": "Baseline SJC", "threshold": -0.2824205458164215, "left": {"value": 0.6774193548387096}, "right": {"value": 0.1111111111111111}}, "right": {"feature": "Gender(Female=0,male=1)", "threshold": 0.5, "left": {"value": 0.0}, "right": {"value": 0.5}}}, "right": {"feature": "Gender(Female=0,male=1)", "threshold": 0.5, "left": {"feature": "Baseline SJC", "threshold": 0.35669031739234924, "left": {"value": 0.09090909090909091}, "right": {"value": 0.26666666666666666}}, "right": {"feature": "Baseline PGA(0-100)", "threshold": 1.3016473054885864, "left": {"value": 0.5263157894736842}, "right": {"value": 0.0}}}}, {"feature": "Baseline PGA(0-100)", "threshold": 0.42867664247751236, "left": {"feature": "Baseline CRP(mg/L)", "threshold": -0.08143908157944679, "left": {"feature": "JAK naive(True=1,false=0)", "threshold": 0.5, "left": {"value": 0.0}, "right": {"value": 0.6421052631578947}}, "right": {"feature": "Baseline SJC", "threshold": 0.6762457489967346, "left": {"value": 0.037037037037037035}, "right": {"value": 0.375}}}, "right": {"feature": "Duration from diagnosis(months)", "threshold": -0.7214648425579071, "left": {"feature": "BMI", "threshold": 0.26027075946331024, "left": {"value": 0.23809523809523808}, "right": {"value": 0.8181818181818182}}, "right": {"feature": "Baseline PGA(0-100)", "threshold": 0.8651619851589203, "left": {"value": 0.2857142857142857}, "right": {"value": 0.0}}}}, {"feature": "Baseline PGA(0-100)", "threshold": 0.8651619851589203, "left": {"feature": "Baseline EGA(0-100)", "threshold": -1.3087697625160217, "left": {"feature": "Baseline RF positive(True=1,false=0)", "threshold": 0.5, "left": {"value": 0.3333333333333333}, "right": {"value": 0.8}}, "right": {"feature": "Baseline ESR(mm/h)", "threshold": 0.7317156493663788, "left": {"value": 0.4583333333333333}, "right": {"value": 0.1111111111111111}}}, "right": {"feature": "Baseline TJC", "threshold": -0.848298043012619, "left": {"value": 1.0}, "right": {"feature": "Age(years)", "threshold": -1.8273407816886902, "left": {"value": 1.0}, "right": {"value": 0.0625}}}}, {"feature": "Baseline EGA(0-100)", "threshold": -0.16072610206902027, "left": {"feature": "Baseline CRP(mg/L)", "threshold": -0.6788702309131622, "left": {"feature": "Baseline TJC", "threshold": -0.848298043012619, "left": {"value": 1.0}, "right": {"value": 0.1}}, "right": {"feature": "JAK naive(True=1,false=0)", "threshold": 0.5, "left": {"value": 0.0}, "right": {"value": 0.7407407407407407}}}, "right": {"feature": "Duration from diagnosis(months)", "threshold": -0.7271615862846375, "left": {"feature": "BMI", "threshold": 1.5298945903778076, "left": {"value": 0.4666666666666667}, "right": {"value": 1.0}}, "right": {"feature": "Baseline CRP(mg/L)", "threshold": -0.5781472623348236, "left": {"value": 0.8}, "right": {"value": 0.1282051282051282}}}}, {"feature": "Duration from diagnosis(months)", "threshold": -0.5983520150184631, "left": {"feature": "BMI", "threshold": -0.9837391674518585, "left": {"value": 0.0}, "right": {"feature": "Baseline PGA(0-100)", "threshold": 0.8651619851589203, "left": {"value": 0.6923076923076923}, "right": {"value": 0.3333333333333333}}}, "right": {"feature": "Baseline ESR(mm/h)", "threshold": -0.6310223937034607, "left": {"feature": "Baseline ESR(mm/h)", "threshold": -1.2203145027160645, "left": {"value": 0.0}, "right": {"value": 0.5294117647058824}}, "right": {"feature": "Baseline RF positive(True=1,false=0)", "threshold": 0.5, "left": {"value": 0.041666666666666664}, "right": {"value": 0.19480519480519481}}}}, {"feature": "Baseline PGA(0-100)", "threshold": 0.10131264617666602, "left": {"feature": "Baseline CRP(mg/L)", "threshold": -0.21765492111444473, "left": {"feature": "Age(years)", "threshold": 0.9104295074939728, "left": {"value": 0.5645161290322581}, "right": {"value": 0.25}}, "right": {"feature": "Baseline SJC", "threshold": -0.7084944546222687, "left": {"value": 1.0}, "right": {"value": 0.058823529411764705}}}, "right": {"feature": "Baseline CRP(mg/L)", "threshold": -0.5781472623348236, "left": {"feature": "Baseline SJC", "threshold": -0.2824205458164215, "left": {"value": 0.7272727272727273}, "right": {"value": 0.0}}, "right": {"feature": "Baseline TJC", "threshold": -0.24395499378442764, "left": {"value": 0.2857142857142857}, "right": {"value": 0.05172413793103448}}}}, {"feature": "Baseline CRP(mg/L)", "threshold": -0.2554500252008438, "left": {"feature": "Baseline SJC", "threshold": 1.208838164806366, "left": {"feature": "Baseline TJC", "threshold": -0.39504075050354004, "left": {"value": 0.6666666666666666}, "right": {"value": 0.2978723404255319}}, "right": {"value": 0.0}}, "right": {"feature": "Baseline CRP(mg/L)", "threshold": -0.045370662584900856, "left": {"feature": "Baseline ESR(mm/h)", "threshold": 0.5659772455692291, "left": {"value": 0.17647058823529413}, "right": {"value": 1.0}}, "right": {"feature": "Other cDMARD at baseline(True=1,false=0)", "threshold": 0.5, "left": {"value": 0.17073170731707318}, "right": {"value": 0.0}}}}, {"feature": "Baseline ESR(mm/h)", "threshold": -0.9809145927429199, "left": {"feature": "MTX at baseline(True=1,false=0)", "threshold": 0.5, "left": {"feature": "Age(years)", "threshold": -0.5637544989585876, "left": {"value": 0.0}, "right": {"value": 0.7058823529411765}}, "right": {"feature": "Baseline PGA(0-100)", "threshold": -1.644628643989563, "left": {"value": 0.0}, "right": {"value": 0.9523809523809523}}}, "right": {"feature": "Baseline TJC", "threshold": -0.848298043012619, "left": {"feature": "Baseline PGA(0-100)", "threshold": -0.880779355764389, "left": {"value": 0.0}, "right": {"value": 1.0}}, "right": {"feature": "Age(years)", "threshold": 0.41903483867645264, "left": {"value": 0.35106382978723405}, "right": {"value": 0.1044776119402985}}}}, {"feature": "Baseline CRP(mg/L)", "threshold": -0.17487163096666336, "left": {"feature": "Baseline SJC", "threshold": -0.7084944546222687, "left": {"feature": "Duration from diagnosis(months)", "threshold": 1.0673104524612427, "left": {"value": 0.8275862068965517}, "right": {"value": 0.0}}, "right": {"feature": "Baseline EGA(0-100)", "threshold": 0.18368698470294476, "left": {"value": 0.5142857142857142}, "right": {"value": 0.26666666666666666}}}, "right": {"feature": "Baseline ESR(mm/h)", "threshold": -1.0729914605617523, "left": {"value": 1.0}, "right": {"feature": "Baseline ESR(mm/h)", "threshold": 1.0079463422298431, "left": {"value": 0.08695652173913043}, "right": {"value": 0.0}}}}, {"feature": "Baseline EGA(0-100)", "threshold": -0.16072610206902027, "left": {"feature": "Duration from diagnosis(months)", "threshold": 0.10883452743291855, "left": {"feature": "Prior bDMARD(True=1,false=0)", "threshold": 0.5, "left": {"value": 0.7377049180327869}, "right": {"value": 0.2}}, "right": {"feature": "BMI", "threshold": 0.050468724220991135, "left": {"value": 0.1}, "right": {"value": 0.6666666666666666}}}, "right": {"feature": "Other cDMARD at baseline(True=1,false=0)", "threshold": 0.5, "left": {"feature": "Age(years)", "threshold": -1.9677392840385437, "left": {"value": 1.0}, "right": {"value": 0.358695652173913}}, "right": {"feature": "Baseline ESR(mm/h)", "threshold": -0.8888376951217651, "left": {"value": 0.5}, "right": {"value": 0.038461538461538464}}}}, {"feature": "Age(years)", "threshold": 0.41903483867645264, "left": {"feature": "Baseline CRP(mg/L)", "threshold": -0.18369688838720322, "left": {"feature": "Baseline ESR(mm/h)", "threshold": -0.22588405013084412, "left": {"value": 0.6029411764705882}, "right": {"value": 0.8461538461538461}}, "right": {"feature": "Other cDMARD at baseline(True=1,false=0)", "threshold": 0.5, "left": {"value": 0.3888888888888889}, "right": {"value": 0.0}}}, "right": {"feature": "MTX at baseline(True=1,false=0)", "threshold": 0.5, "left": {"feature": "BMI", "threshold": 0.12429020181298256, "left": {"value": 0.21052631578947367}, "right": {"value": 0.5384615384615384}}, "right": {"feature": "Baseline CRP(mg/L)", "threshold": -0.61786088347435, "left": {"value": 0.25}, "right": {"value": 0.0}}}}, {"feature": "Baseline TJC", "threshold": -0.848298043012619, "left": {"feature": "Baseline PGA(0-100)", "threshold": 0.2104339823126793, "left": {"feature": "Baseline PGA(0-100)", "threshold": -1.3172646760940552, "left": {"value": 0.0}, "right": {"value": 0.8666666666666667}}, "right": {"feature": "Baseline RF positive(True=1,false=0)", "threshold": 0.5, "left": {"value": 1.0}, "right": {"value": 0.0}}}, "right": {"feature": "Age(years)", "threshold": 0.41903483867645264, "left": {"feature": "Baseline TJC", "threshold": 0.05821652989834547, "left": {"value": 0.48717948717948717}, "right": {"value": 0.21875}}, "right": {"feature": "Treatment naive(True=1,false=0)", "threshold": 0.5, "left": {"value": 0.13513513513513514}, "right": {"value": 0.4666666666666667}}}}, {"feature": "Age(years)", "threshold": 0.41903483867645264, "left": {"feature": "Other cDMARD at baseline(True=1,false=0)", "threshold": 0.5, "left": {"feature": "BMI", "threshold": -0.6709206700325012, "left": {"value": 0.2222222222222222}, "right": {"value": 0.6774193548387096}}, "right": {"feature": "Baseline PGA(0-100)", "threshold": -0.4442940130829811, "left": {"value": 0.5172413793103449}, "right": {"value": 0.07692307692307693}}}, "right": {"feature": "BMI", "threshold": 0.0016932226717472076, "left": {"feature": "BMI", "threshold": -0.45808205008506775, "left": {"value": 0.3888888888888889}, "right": {"value": 0.03508771929824561}}, "right": {"feature": "Baseline ESR(mm/h)", "threshold": 0.5659772381186485, "left": {"value": 0.7}, "right": {"value": 0.0}}}}, {"feature": "Baseline PGA(0-100)", "threshold": 0.10131264617666602, "left": {"feature": "Prior bDMARD(True=1,false=0)", "threshold": 0.5, "left": {"feature": "Baseline CRP(mg/L)", "threshold": 0.6763814091682434, "left": {"value": 0.6666666666666666}, "right": {"value": 0.15384615384615385}}, "right": {"feature": "Baseline ESR(mm/h)", "threshold": -0.704683929681778, "left": {"value": 0.5833333333333334}, "right": {"value": 0.0}}}, "right": {"feature": "Baseline TJC", "threshold": -0.09286922682076693, "left": {"feature": "MTX at baseline(True=1,false=0)", "threshold": 0.5, "left": {"value": 0.5416666666666666}, "right": {"value": 0.16666666666666666}}, "right": {"feature": "BMI", "threshold": -0.5503479391336441, "left": {"value": 0.13636363636363635}, "right": {"value": 0.0}}}}, {"feature": "Baseline PGA(0-100)", "threshold": 0.10131264617666602, "left": {"feature": "Baseline CRP(mg/L)", "threshold": -0.08143908157944679, "left": {"feature": "Duration from diagnosis(months)", "threshold": 0.3424007296562195, "left": {"value": 0.7368421052631579}, "right": {"value": 0.34782608695652173}}, "right": {"feature": "Baseline SJC", "threshold": -0.7084944546222687, "left": {"value": 1.0}, "right": {"value": 0.058823529411764705}}}, "right": {"feature": "Baseline ESR(mm/h)", "threshold": -0.7967607975006104, "left": {"feature": "Baseline PGA(0-100)", "threshold": 0.8651619851589203, "left": {"value": 0.9333333333333333}, "right": {"value": 0.1}}, "right": {"feature": "Age(years)", "threshold": -1.9677392840385437, "left": {"value": 1.0}, "right": {"value": 0.13333333333333333}}}}, {"feature": "BMI", "threshold": -0.9210264682769775, "left": {"feature": "Duration from diagnosis(months)", "threshold": -0.75374636054039, "left": {"feature": "Baseline PGA(0-100)", "threshold": 1.0834046304225922, "left": {"value": 0.0}, "right": {"value": 1.0}}, "right": {"feature": "Baseline EGA(0-100)", "threshold": -0.390334814786911, "left": {"value": 0.1}, "right": {"value": 0.0}}}, "right": {"feature": "BMI", "threshold": -0.32037535309791565, "left": {"feature": "Baseline PGA(0-100)", "threshold": 0.10131264617666602, "left": {"value": 0.875}, "right": {"value": 0.4444444444444444}}, "right": {"feature": "Age(years)", "threshold": 0.38393522799015045, "left": {"value": 0.5098039215686274}, "right": {"value": 0.18840579710144928}}}}, {"feature": "Baseline CRP(mg/L)", "threshold": -0.17487163096666336, "left": {"feature": "Age(years)", "threshold": -0.21275830268859863, "left": {"feature": "BMI", "threshold": 0.4535515010356903, "left": {"value": 0.8205128205128205}, "right": {"value": 0.5}}, "right": {"feature": "Baseline EGA(0-100)", "threshold": 0.18368698470294476, "left": {"value": 0.5370370370370371}, "right": {"value": 0.0}}}, "right": {"feature": "Baseline TJC", "threshold": -0.848298043012619, "left": {"value": 1.0}, "right": {"feature": "BMI", "threshold": 0.18644928187131882, "left": {"value": 0.05555555555555555}, "right": {"value": 0.3448275862068966}}}}, {"feature": "Baseline CRP(mg/L)", "threshold": -0.2554500252008438, "left": {"feature": "Baseline TJC", "threshold": 0.13375941198319197, "left": {"feature": "JAK naive(True=1,false=0)", "threshold": 0.5, "left": {"value": 0.0}, "right": {"value": 0.6111111111111112}}, "right": {"feature": "Baseline ESR(mm/h)", "threshold": 0.38182345405220985, "left": {"value": 0.0}, "right": {"value": 0.3333333333333333}}}, "right": {"feature": "Baseline EGA(0-100)", "threshold": 0.18368698470294476, "left": {"feature": "Baseline SJC", "threshold": 1.8479490280151367, "left": {"value": 0.2727272727272727}, "right": {"value": 1.0}}, "right": {"feature": "Baseline ESR(mm/h)", "threshold": -0.004899503663182259, "left": {"value": 0.2222222222222222}, "right": {"value": 0.05263157894736842}}}}, {"feature": "Duration from diagnosis(months)", "threshold": -0.7224143147468567, "left": {"feature": "Baseline PGA(0-100)", "threshold": -0.007808685302734375, "left": {"feature": "Baseline ESR(mm/h)", "threshold": -0.8335915505886078, "left": {"value": 1.0}, "right": {"value": 0.5625}}, "right": {"feature": "MTX at baseline(True=1,false=0)", "threshold": 0.5, "left": {"value": 0.5}, "right": {"value": 0.0}}}, "right": {"feature": "Baseline ESR(mm/h)", "threshold": -0.8888376951217651, "left": {"feature": "Baseline TJC", "threshold": -0.697212278842926, "left": {"value": 0.8461538461538461}, "right": {"value": 0.4444444444444444}}, "right": {"feature": "Age(years)", "threshold": 0.41903483867645264, "left": {"value": 0.25333333333333335}, "right": {"value": 0.03571428571428571}}}}, {"feature": "Baseline EGA(0-100)", "threshold": -0.390334814786911, "left": {"feature": "BMI", "threshold": -1.3157129883766174, "left": {"feature": "Baseline ESR(mm/h)", "threshold": -0.5389455109834671, "left": {"value": 0.5}, "right": {"value": 0.0}}, "right": {"feature": "Duration from diagnosis(months)", "threshold": -0.7945729494094849, "left": {"value": 1.0}, "right": {"value": 0.5568181818181818}}}, "right": {"feature": "Duration from diagnosis(months)", "threshold": -0.7830212414264679, "left": {"feature": "Baseline TJC", "threshold": 1.9467885494232178, "left": {"value": 0.5666666666666667}, "right": {"value": 0.0}}, "right": {"feature": "Baseline SJC", "threshold": 0.35669031739234924, "left": {"value": 0.12}, "right": {"value": 0.0}}}}, {"feature": "Age(years)", "threshold": 0.41903483867645264, "left": {"feature": "Duration from diagnosis(months)", "threshold": -0.7808058559894562, "left": {"feature": "Duration from diagnosis(months)", "threshold": -0.8096060156822205, "left": {"value": 0.7857142857142857}, "right": {"value": 1.0}}, "right": {"feature": "BMI", "threshold": -0.9012352824211121, "left": {"value": 0.08}, "right": {"value": 0.45454545454545453}}}, "right": {"feature": "Baseline PGA(0-100)", "threshold": -0.880779355764389, "left": {"feature": "Baseline SJC", "threshold": -0.7084944546222687, "left": {"value": 0.7142857142857143}, "right": {"value": 0.3}}, "right": {"feature": "Baseline SJC", "threshold": 1.6349120736122131, "left": {"value": 0.06}, "right": {"value": 0.3076923076923077}}}}, {"feature": "Prior bDMARD(True=1,false=0)", "threshold": 0.5, "left": {"feature": "Baseline TJC", "threshold": -0.09286922682076693, "left": {"feature": "Age(years)", "threshold": 0.5594333410263062, "left": {"value": 0.7088607594936709}, "right": {"value": 0.19230769230769232}}, "right": {"feature": "Duration from diagnosis(months)", "threshold": -0.8118214011192322, "left": {"value": 0.7272727272727273}, "right": {"value": 0.1694915254237288}}}, "right": {"feature": "MTX at baseline(True=1,false=0)", "threshold": 0.5, "left": {"feature": "Baseline EGA(0-100)", "threshold": -0.7347479164600372, "left": {"value": 1.0}, "right": {"value": 0.2727272727272727}}, "right": {"feature": "Baseline CRP(mg/L)", "threshold": -0.6261105835437775, "left": {"value": 0.5}, "right": {"value": 0.0}}}}, {"feature": "Baseline EGA(0-100)", "threshold": -0.16072610206902027, "left": {"feature": "Baseline CRP(mg/L)", "threshold": -0.704770416021347, "left": {"value": 1.0}, "right": {"feature": "Prior bDMARD(True=1,false=0)", "threshold": 0.5, "left": {"value": 0.5813953488372093}, "right": {"value": 0.05555555555555555}}}, "right": {"feature": "Baseline ESR(mm/h)", "threshold": 1.2105154991149902, "left": {"feature": "Baseline TJC", "threshold": -0.848298043012619, "left": {"value": 1.0}, "right": {"value": 0.28378378378378377}}, "right": {"value": 0.0}}}, {"feature": "Baseline EGA(0-100)", "threshold": -0.390334814786911, "left": {"feature": "BMI", "threshold": -0.7137447595596313, "left": {"feature": "Baseline PGA(0-100)", "threshold": -0.4442940130829811, "left": {"value": 0.1875}, "right": {"value": 0.6666666666666666}}, "right": {"feature": "Other cDMARD at baseline(True=1,false=0)", "threshold": 0.5, "left": {"value": 0.7209302325581395}, "right": {"value": 0.37037037037037035}}}, "right": {"feature": "Baseline ESR(mm/h)", "threshold": -0.023314883466809988, "left": {"feature": "Duration from diagnosis(months)", "threshold": -0.7311176359653473, "left": {"value": 0.7142857142857143}, "right": {"value": 0.2894736842105263}}, "right": {"feature": "BMI", "threshold": 0.5064759999513626, "left": {"value": 0.08196721311475409}, "right": {"value": 0.4444444444444444}}}}, {"feature": "Baseline CRP(mg/L)", "threshold": -0.045370662584900856, "left": {"feature": "Baseline CRP(mg/L)", "threshold": -0.7068808078765869, "left": {"value": 1.0}, "right": {"feature": "Age(years)", "threshold": 1.401824176311493, "left": {"value": 0.48091603053435117}, "right": {"value": 0.0}}}, "right": {"feature": "Age(years)", "threshold": 0.6998317837715149, "left": {"feature": "BMI", "threshold": 1.415238380432129, "left": {"value": 0.13043478260869565}, "right": {"value": 1.0}}, "right": {"value": 0.0}}}, {"feature": "Duration from diagnosis(months)", "threshold": -0.5996179580688477, "left": {"feature": "Age(years)", "threshold": 0.454134464263916, "left": {"feature": "Duration from diagnosis(months)", "threshold": -0.8118214011192322, "left": {"value": 1.0}, "right": {"value": 0.5945945945945946}}, "right": {"feature": "Baseline SJC", "threshold": -0.7084944546222687, "left": {"value": 1.0}, "right": {"value": 0.23076923076923078}}}, "right": {"feature": "Baseline EGA(0-100)", "threshold": -0.390334814786911, "left": {"feature": "Baseline TJC", "threshold": -0.848298043012619, "left": {"value": 0.7857142857142857}, "right": {"value": 0.4186046511627907}}, "right": {"feature": "Duration from diagnosis(months)", "threshold": 0.35854147374629974, "left": {"value": 0.046511627906976744}, "right": {"value": 0.30303030303030304}}}}, {"feature": "Baseline TJC", "threshold": -0.546126514673233, "left": {"feature": "Age(years)", "threshold": 0.4892340898513794, "left": {"feature": "Baseline ESR(mm/h)", "threshold": -0.48369935154914856, "left": {"value": 0.9}, "right": {"value": 0.5}}, "right": {"feature": "Baseline CRP(mg/L)", "threshold": -0.4022177904844284, "left": {"value": 0.5454545454545454}, "right": {"value": 0.0}}}, "right": {"feature": "Baseline SJC", "threshold": -0.06938359327614307, "left": {"feature": "Baseline EGA(0-100)", "threshold": -0.390334814786911, "left": {"value": 0.4166666666666667}, "right": {"value": 0.03571428571428571}}, "right": {"feature": "Treatment naive(True=1,false=0)", "threshold": 0.5, "left": {"value": 0.325}, "right": {"value": 0.5806451612903226}}}}, {"feature": "Baseline PGA(0-100)", "threshold": 0.10131264617666602, "left": {"feature": "BMI", "threshold": -0.9210264682769775, "left": {"feature": "Baseline CRP(mg/L)", "threshold": -0.38053835928440094, "left": {"value": 0.4444444444444444}, "right": {"value": 0.0}}, "right": {"feature": "Age(years)", "threshold": 0.4892340898513794, "left": {"value": 0.75}, "right": {"value": 0.3157894736842105}}}, "right": {"feature": "Baseline TJC", "threshold": -0.24395499378442764, "left": {"feature": "Age(years)", "threshold": 0.41903485357761383, "left": {"value": 0.6}, "right": {"value": 0.11764705882352941}}, "right": {"feature": "Baseline CRP(mg/L)", "threshold": 0.429082527756691, "left": {"value": 0.043478260869565216}, "right": {"value": 0.21052631578947367}}}}, {"feature": "Baseline CRP(mg/L)", "threshold": 0.48644666373729706, "left": {"feature": "Age(years)", "threshold": 0.41903483867645264, "left": {"feature": "Age(years)", "threshold": 0.20843712240457535, "left": {"value": 0.5}, "right": {"value": 0.9333333333333333}}, "right": {"feature": "Baseline TJC", "threshold": 1.6446170210838318, "left": {"value": 0.29411764705882354}, "right": {"value": 0.0}}}, "right": {"feature": "Glucocorticoid(True=1,false=0) at baseline", "threshold": 0.5, "left": {"feature": "BMI", "threshold": 0.18644928187131882, "left": {"value": 0.047619047619047616}, "right": {"value": 0.375}}, "right": {"value": 0.0}}}] },
            CDAI: { model_type: 'logistic', intercept: -1.108783086419137, coef: [-0.3457354041332981, -0.13328934884326193, 0.018879267522837053, -0.4237705658762246, 0.2259627561831222, -0.20441425109661884, -0.12142681599684807, -0.23246954099680336, -0.1579769378645272, 0.27882806978704056, 0.6172288259637352, -0.13681427521466286, -0.17387445237052823, -0.23289277112400303, -0.7689802125182765, 0.41001380345032185, -0.05209797626649083] }
        };
        // feature columns
        const continuousCols = ["Age(years)", "Duration from diagnosis(months)", "BMI", "Baseline TJC", "Baseline SJC", "Baseline PGA(0-100)", "Baseline EGA(0-100)", "Baseline ESR(mm/h)", "Baseline CRP(mg/L)"];
        const binaryCols = ["Gender(Female=0,male=1)", "JAK naive(True=1,false=0)", "Treatment naive(True=1,false=0)", "MTX at baseline(True=1,false=0)", "Other cDMARD at baseline(True=1,false=0)", "Prior bDMARD(True=1,false=0)", "Glucocorticoid(True=1,false=0) at baseline", "Baseline RF positive(True=1,false=0)"];
        // standardize features and create feature array
        function scaleFeatures(input) {
            const features = [];
            // continuous
            for (let i = 0; i < continuousCols.length; i++) {
                const col = continuousCols[i];
                const val = parseFloat(input[col]);
                const mean = continuousMeans[i];
                const scale = continuousScales[i];
                features.push((val - mean) / scale);
            }
            // binary
            for (let i = 0; i < binaryCols.length; i++) {
                const col = binaryCols[i];
                features.push(parseFloat(input[col]));
            }
            return features;
        }
        function sigmoid(x) { return 1 / (1 + Math.exp(-x)); }
        // Logistic prediction
        function predictLogistic(model, features) {
            let logit = model.intercept;
            for (let i = 0; i < model.coef.length; i++) {
                logit += model.coef[i] * features[i];
            }
            return sigmoid(logit);
        }
        // Random forest traverse
        function traverseRfTree(tree, features) {
            if (tree.value !== undefined) {
                return tree.value;
            }
            const featureIndex = continuousCols.concat(binaryCols).indexOf(tree.feature);
            const threshold = tree.threshold;
            if (features[featureIndex] < threshold) {
                return traverseRfTree(tree.left, features);
            } else {
                return traverseRfTree(tree.right, features);
            }
        }
        function predictRf(model, features) {
            let sum = 0;
            for (let i = 0; i < model.trees.length; i++) {
                sum += traverseRfTree(model.trees[i], features);
            }
            return sum / model.trees.length;
        }
        // XGBoost traverse
        function traverseXgbTree(tree, features) {
            if (tree.leaf !== undefined) {
                return tree.leaf;
            }
            // split like 'f3'
            const idx = parseInt(tree.split.substring(1));
            const thr = tree.split_condition;
            const val = features[idx];
            // find children by nodeid
            let nextNodeId;
            if (val < thr) { nextNodeId = tree.yes; } else { nextNodeId = tree.no; }
            for (let i = 0; i < tree.children.length; i++) {
                if (tree.children[i].nodeid === nextNodeId) {
                    return traverseXgbTree(tree.children[i], features);
                }
            }
            // fallback to first child
            return traverseXgbTree(tree.children[0], features);
        }
        function predictXgb(model, features) {
            let sum = model.base_score;
            const trees = model.trees;
            for (let i = 0; i < trees.length; i++) {
                sum += traverseXgbTree(trees[i], features);
            }
            return sigmoid(sum);
        }
        document.getElementById('predictBtn').addEventListener('click', function() {
            const outcome = document.getElementById('outcome').value;
            const input = {};
            // collect inputs
            for (let i = 0; i < continuousCols.length; i++) {
                const col = continuousCols[i];
                input[col] = document.getElementById(col).value;
            }
            for (let i = 0; i < binaryCols.length; i++) {
                const col = binaryCols[i];
                input[col] = document.getElementById(col).value;
            }
            // validate
            for (const col of continuousCols) { if (input[col] === '') { alert('Please enter a value for ' + col); return; } }
            for (const col of binaryCols) { if (input[col] === '') { alert('Please select a value for ' + col); return; } }
            const features = scaleFeatures(input);
            let prob;
            const model = modelData[outcome];
            if (model.model_type === 'logistic') { prob = predictLogistic(model, features); }
            else if (model.model_type === 'rf') { prob = predictRf(model, features); }
            else if (model.model_type === 'xgb') { prob = predictXgb(model, features); }
            const cls = prob >= 0.5 ? 1 : 0;
            const probPercent = (prob * 100).toFixed(2);
            document.getElementById('result').innerHTML = 'Predicted Class: ' + cls + '<br>Probability of Outcome: ' + probPercent + '%';
        });
    </script>
</body>
</html>
